<!DOCTYPE html>
<html is="my-html">
<head>
<meta charset="utf-8">
<meta name="help" content="https://html.spec.whatwg.org/multipage/custom-elements.html#element-definition">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script>
  let contentInConstructor = undefined;
  let numberOfContentChildNodesInConnectedCallback = 0;
  let MyTemplate = class extends HTMLTemplateElement {
    constructor(...args) {
      super(...args);
      contentInConstructor = this.content;
    }
    connectedCallback(...args) {
      super.connectedCallback && super.connectedCallback();
      numberOfContentChildNodesInConnectedCallback = this.content.childNodes.length;
    }
  }
  customElements.define('my-template', MyTemplate, {extends: 'template'});
</script>
</head>
<body is="my-body">
<div id="container"><template is="my-template">foo</template></div>
<script>
test(() => {
  assert_true(contentInConstructor instanceof DocumentFragment);
}, `Parsed customized template: Property '.content' should contain 'DocumentFragment' on constructor`);

test(() => {
  assert_equals(numberOfContentChildNodesInConnectedCallback, 1);
}, `Parsed customized template: Property '.content' should contain child nodes on connectedCallback`);
</script>
</body>
</html>
